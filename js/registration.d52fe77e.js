(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["registration"],{"445d":function(n,e,t){"use strict";function r(n,e){n.skip&&(n.setVariables(e),n.skip=!1,n.stop(),n.start())}t.d(e,"a",(function(){return r}))},"6a53":function(n,e,t){"use strict";t.r(e);var r=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticStyle:{width:"300px",margin:"auto"}},[t("b-form-input",{attrs:{placeholder:"username",id:"input_text"},model:{value:n.username,callback:function(e){n.username=e},expression:"username"}}),t("b-form-input",{attrs:{placeholder:"password",id:"input_text"},model:{value:n.password,callback:function(e){n.password=e},expression:"password"}}),t("b-button",{attrs:{variant:"primary"},on:{click:n.signIn}},[n._v("Registration")]),t("br"),t("Alert",{ref:"Alert",staticStyle:{margin:"auto"},attrs:{text:n.text}})],1)},s=[],a=t("1da1"),i=(t("96cf"),t("445d")),o=t("af9a"),u=t("cc4a"),m={name:"Registration",components:{Alert:u["a"]},data:function(){return{username:"",password:"",text:""}},apollo:{login:{query:o["f"],skip:!0},register:{query:o["k"],skip:!0},usernameExists:{query:o["q"],skip:!0}},methods:{signIn:function(){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.username,r=n.password,Object(i["a"])(n.$apollo.queries.register,{username:t,password:r}),e.prev=3,e.next=6,n.$apollo.queries.register.refetch({username:t,password:r});case 6:s=e.sent,console.log(s.data.user),n.text="".concat(s.data.user.username,", congratulations! "),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](3),n.text="".concat(e.t0.message);case 14:n.$refs.Alert.showAlert();case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))()}}},d=m,c=t("2877"),f=Object(c["a"])(d,r,s,!1,null,null,null);e["default"]=f.exports},af9a:function(n,e,t){"use strict";t.d(e,"k",(function(){return D})),t.d(e,"f",(function(){return j})),t.d(e,"q",(function(){return k})),t.d(e,"l",(function(){return R})),t.d(e,"g",(function(){return S})),t.d(e,"b",(function(){return C})),t.d(e,"p",(function(){return E})),t.d(e,"c",(function(){return O})),t.d(e,"m",(function(){return q})),t.d(e,"o",(function(){return A})),t.d(e,"n",(function(){return _})),t.d(e,"d",(function(){return I})),t.d(e,"e",(function(){return M})),t.d(e,"a",(function(){return z})),t.d(e,"h",(function(){return J})),t.d(e,"i",(function(){return U})),t.d(e,"j",(function(){return F}));t("fb6a"),t("dca8");function r(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var s,a,i,o,u,m,d,c,f,l,p,b,g,w,x,h,v,$=t("9530"),y=t.n($),D=y()(s||(s=r(["query register ($username: String!, $password: String!){\n    user: register(username: $username, password: $password) {\n        id\n        username\n        timestamp\n    }\n   }"]))),j=y()(a||(a=r(["query login($username: String!, $password: String!){\n    login: login(username: $username, password: $password)\n  }"]))),k=y()(i||(i=r(["query usernameExists($username: String!){\n    usernameExists(username: $username)\n  }"]))),R=y()(o||(o=r(["query rooms{\n  rooms{\n    id\n    name\n    owner{\n      id\n      username\n    }\n  }\n  }"]))),S=y()(u||(u=r(["query me{\n  me{\n    username\n    id\n    currentRoom{\n      id\n      name\n      lastMessages{\n        id\n        text\n        author {\n          id\n          username\n        }\n        timestamp\n      }\n      owner{\n        id\n        username\n      }\n      members{\n        id\n        username\n      }\n    }\n  }\n}"]))),C=y()(m||(m=r(["mutation createRoom($roomname: String!) {\n  createRoom(name: $roomname) {\n    id\n    name\n    timestamp\n  }\n}"]))),E=y()(d||(d=r(["mutation updateRoom($id: ID!, $new_name: String!) {\n  updateRoom(id: $id, name: $new_name) {\n    id \n    name\n    timestamp\n  }\n}"]))),O=y()(c||(c=r(["mutation deleteRoom($id: ID!) {\n  deleteRoom(id: $id) {\n    id \n    name\n    timestamp\n  }\n}"]))),q=y()(f||(f=r(["subscription roomCreated {\n  roomCreated {\n    id name owner {id username}\n    lastMessages{\n      id\n      text\n      author {\n        username\n      }\n      timestamp\n    }\n  }\n}"]))),A=y()(l||(l=r(["subscription roomUpdated {\n  roomUpdated {\n    id name owner {id username}     \n    lastMessages{\n      text\n      author {\n        username\n      }\n      timestamp\n    }\n  }\n}"]))),_=y()(p||(p=r(["subscription roomDeleted {\n  roomDeleted {\n    id name owner {id username}\n    lastMessages{\n      text\n      author {\n        username\n      }\n      timestamp\n    }\n  }\n}"]))),I=y()(b||(b=r(["mutation join($id: ID!) {\n  joinRoom(roomId: $id) {\n    id\n    name\n    lastMessages{\n      id\n      text\n      author {\n        id\n        username\n      }\n      timestamp\n    }\n    members{\n      id\n      username\n    }\n    owner{\n      id\n      username\n    }\n  }\n}"]))),M=y()(g||(g=r(["mutation leave {\n  leaveCurrentRoom {\n    id \n    name\n  }\n}"]))),z=y()(w||(w=r(["mutation createMessage($text: String!) {\n  createMessage(text: $text) {\n    id\n    timestamp\n    author { id username }\n    text\n  }\n}"]))),J=y()(x||(x=r(["subscription memberJoined {\n  memberJoined { id username }\n}"]))),U=y()(h||(h=r(["subscription memberLeft {\n  memberLeft { id username }\n}"]))),F=y()(v||(v=r(["subscription messageCreated {\n  messageCreated {\n    id\n    timestamp\n    author { id username }\n    text\n  }\n}"])))},bb2f:function(n,e,t){var r=t("d039");n.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},cc4a:function(n,e,t){"use strict";var r=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("b-alert",{attrs:{show:n.dismissCountDown,dismissible:"",variant:"info"},on:{dismissed:function(e){n.dismissCountDown=0},"dismiss-count-down":n.countDownChanged}},[n._v(" "+n._s(n.text)+" "),t("b-progress",{attrs:{variant:"info",max:n.dismissSecs,value:n.dismissCountDown,height:"4px"}})],1)},s=[],a={name:"Alert",data:function(){return{dismissSecs:10,dismissCountDown:0,text:""}},methods:{countDownChanged:function(n){this.dismissCountDown=n},showAlert:function(n){this.text=n,this.dismissCountDown=this.dismissSecs}}},i=a,o=t("2877"),u=Object(o["a"])(i,r,s,!1,null,null,null);e["a"]=u.exports},dca8:function(n,e,t){var r=t("23e7"),s=t("bb2f"),a=t("d039"),i=t("861d"),o=t("f183").onFreeze,u=Object.freeze,m=a((function(){u(1)}));r({target:"Object",stat:!0,forced:m,sham:!s},{freeze:function(n){return u&&i(n)?u(o(n)):n}})},f183:function(n,e,t){var r=t("d012"),s=t("861d"),a=t("5135"),i=t("9bf2").f,o=t("90e3"),u=t("bb2f"),m=o("meta"),d=0,c=Object.isExtensible||function(){return!0},f=function(n){i(n,m,{value:{objectID:"O"+ ++d,weakData:{}}})},l=function(n,e){if(!s(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!a(n,m)){if(!c(n))return"F";if(!e)return"E";f(n)}return n[m].objectID},p=function(n,e){if(!a(n,m)){if(!c(n))return!0;if(!e)return!1;f(n)}return n[m].weakData},b=function(n){return u&&g.REQUIRED&&c(n)&&!a(n,m)&&f(n),n},g=n.exports={REQUIRED:!1,fastKey:l,getWeakData:p,onFreeze:b};r[m]=!0},fb6a:function(n,e,t){"use strict";var r=t("23e7"),s=t("861d"),a=t("e8b5"),i=t("23cb"),o=t("50c4"),u=t("fc6a"),m=t("8418"),d=t("b622"),c=t("1dde"),f=c("slice"),l=d("species"),p=[].slice,b=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(n,e){var t,r,d,c=u(this),f=o(c.length),g=i(n,f),w=i(void 0===e?f:e,f);if(a(c)&&(t=c.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)?s(t)&&(t=t[l],null===t&&(t=void 0)):t=void 0,t===Array||void 0===t))return p.call(c,g,w);for(r=new(void 0===t?Array:t)(b(w-g,0)),d=0;g<w;g++,d++)g in c&&m(r,d,c[g]);return r.length=d,r}})}}]);
//# sourceMappingURL=registration.d52fe77e.js.map